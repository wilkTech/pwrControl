# PowerControl - przykładowa konfiguracja
# Skopiuj jako config.yaml i uzupełnij własnymi danymi.
# NIE commituj config.yaml (zawiera hasła i dane wrażliwe).

log_path: logs/power_control.log
silence_logs: false
log_level: INFO
host: 0.0.0.0
port: 5000
heartbeat_interval_s: 60
heartbeat_file: logs/last_heartbeat.json
enable_relay_event_emails: false
enable_startup_notifications: true
enable_shutdown_notifications: true

proxmox:
  nodes:
    prox01: 192.168.1.20
    prox02: 192.168.1.21
  nodes_mac:
    prox01: "XX-XX-XX-XX-XX-XX"
    prox02: "XX-XX-XX-XX-XX-XX"
  node_credentials:
    default:
      user: root
      password: ""  # lub użyj POWERCONTROL__PROXMOX__NODE_CREDENTIALS__DEFAULT__PASSWORD
      port: 22
  nodes_relay:
    prox01: 2
    prox02: 8
  vm_fetch_relays: [2, 8]
  quick_start_vms:
    relay_2:
      103: "VM_103 - opis"
      105: "VM_105 - opis"
    relay_8:
      230: "VM_230 - opis"
  user: apiuser@pve
  token_name: ""
  token_value: ""  # lub zmienna środowiskowa
  password: ""
  verify_ssl: false
  log_reachability: false
  timeout: 5
  cooldown_seconds: 30

email:
  enabled: true
  address: twoj-email@example.com
  password: ""  # zalecane: POWERCONTROL__EMAIL__PASSWORD
  server: smtp.gmail.com
  port: 465
  recipient: odbiorca@example.com
  exclude_sender_from_recipients: false
  use_ssl: true
  starttls: false
  timeout: 15
  max_retries: 3
  retry_backoff_base: 2.0
  max_per_minute: 10
  debug: false
  subject_prefix: "[PowerControl] "
  from_name: "PowerControl"

enable_email_notifications: true

computers:
  pc-1:
    relay: 4
    MAC: "XX-XX-XX-XX-XX-XX"
    IP: "192.168.1.100"
    OS: "windows"
    Username: "admin"
    Password: ""

  pc-2:
    relay: 7
    MAC: "XX-XX-XX-XX-XX-XX"
    IP: "192.168.1.101"
    OS: "windows"
    Username: "admin"
    Password: ""

relay_pins: [5, 6, 13, 16, 19, 20, 21, 26]
switch_pins: [24, 8, 10, 7, 22, 12, 9, 25]

services:
  powerControl:
    service: powerControl.service
    description: "Usługa PowerControl"
